function page_generator_pro_reinit_selectize(){var e;(e=jQuery)(page_generator_pro_selectize.fields.freeform.join(",")).each((function(){var a=void 0!==e(this).data("delimiter")?e(this).data("delimiter"):",";e(this).selectize({plugins:["drag_drop","remove_button"],delimiter:a,persist:!1,create:function(e){return{value:e,text:e}}})})),e(page_generator_pro_selectize.fields.drag_drop.join(",")).selectize({plugins:["drag_drop","remove_button"],delimiter:",",persist:!1,create:!1}).on("change",(function(){if(void 0!==e(this).data("controls")){var a=e(this).data("controls");if(0!==a.length){var t=e(this).val();if(e('select[name="'+a+'"] option').attr("disabled","disabled"),t){for(var i=0;i<t.length;i++)e('select[name="'+a+'"] option[value="'+t[i]+'"]').removeAttr("disabled");e('select[name="method"]').trigger("change.page-generator-pro")}}}})).trigger("change"),e(page_generator_pro_selectize.fields.search.join(",")).each((function(){var a=e(this).data("action"),t=e(this).data("args"),i=e(this).data("name-field"),r=e(this).data("value-field"),o=e(this).data("method"),n=e(this).data("output-fields").split(",");e(this).selectize({delimiter:",",valueField:r,labelField:i,searchField:i,options:[],create:!1,render:{option:function(e,a){for(var t=[],i=0;i<n.length;i++)t.push(e[n[i]]);return"<div>"+t.join(", ")+"</div>"}},load:function(i,r){if(!i.length||i.length<3)return r();e.ajax({url:ajaxurl,type:o,dataType:"json",data:{action:a,query:i,args:t},error:function(){r()},success:function(e){r(e.data)}})}})})),e(page_generator_pro_selectize.fields.api.join(",")).each((function(){var a=this;e(a).selectize({plugins:["drag_drop","remove_button"],delimiter:",",options:[],create:!1,load:function(t,r){var o=e(a).data("action"),n=e(a).data("api-call"),s=e(a).data("api-search-field");if(api_fields=e(a).data("api-fields").split(","),country_code=e(a).data("country-code"),output_fields=e(a).data("output-fields").split(","),value_field=e(a).data("value-field"),!t.length||t.length<3)return r();var l={action:o,api_call:n,api_search_field:s,query:t,country_code:e('select[name="'+country_code+'"]').val()};for(i=0;i<api_fields.length;i++)l[api_fields[i].replace(/[\[\]']+/g,"")]=e('select[name="'+api_fields[i]+'"]').val();e.ajax({url:ajaxurl,type:"POST",async:!0,data:l,error:function(e,a,t){return wpzinc_modal_show_error_message_and_exit("err")},success:function(e){if(!e.success)return wpzinc_modal_show_error_message_and_exit(e.data.message);var a=[];for(i=0;i<e.data.data.length;i++){for(var t=[],o=0;o<output_fields.length;o++)t.push(e.data.data[i][output_fields[o]]);a.push({text:t.join(", "),value:e.data.data[i][value_field]})}r(a)}})}})})),e(page_generator_pro_selectize.fields.standard.join(",")).each((function(){var a=this,t=e(a).data("action"),r=e(a).data("api-call"),o=e(a).data("country-code");e.ajax({url:ajaxurl,type:"POST",async:!0,data:{action:t,api_call:r,country_code:e('select[name="'+o+'"]').val()},error:function(e,a,t){return wpzinc_modal_show_error_message_and_exit("err")},success:function(t){var r=e(a).data("output-fields").split(",");if(value_field=e(a).data("value-field"),!t.success)return wpzinc_modal_show_error_message_and_exit(t.data.message);var o=[];for(i=0;i<t.data.data.length;i++){for(var n=[],s=0;s<r.length;s++)n.push(t.data.data[i][r[s]]);o.push({text:n.join(", "),value:t.data.data[i][value_field]})}e(a).selectize({plugins:["drag_drop","remove_button"],options:o,create:!1,delimiter:",",load:function(e,a){a(o)}})}})}))}function page_generator_pro_destroy_selectize(){!function(e){for(const[a,t]of Object.entries(page_generator_pro_selectize.fields))e(t.join(", ")).selectize().each((function(){this.selectize.destroy()}))}(jQuery)}jQuery(document).ready((function(e){if(void 0!==page_generator_pro_selectize.reinit_events)for(const[a,t]of Object.entries(page_generator_pro_selectize.reinit_events))e("body").on(a,t.join(","),(function(){page_generator_pro_reinit_selectize()}))})),page_generator_pro_reinit_selectize();